<header>
    {{ 'icu' | i18next }}
</header>
<nav>
    <ul>
        <li data-ng-repeat="item in items">
            <div class="menu-item"
                data-ui-sref="{{'main.' + item.state}}"
                data-ng-class="{ 'active': isCurrentState(item) }"
                ng-click="toggleVisibility(item)">
                <div class="icon">
                    <img ng-src="{{item.icon}}"/>
                </div>
                <div class="item-name">
                    <span>{{item.name | i18next | uppercase}}</span>
                </div>
                <div class="arrow">
                    <i class="fa"
                        data-ng-class="{ 'fa-caret-right': !isCurrentState(item) || !item.open, 'fa-caret-down': isCurrentState(item) || item.open}"></i>
                </div>
            </div>
            <div class="display-by"
                 ng-class= "{'collapsed' : isCurrentState(item) && !item.open }"
                 ng-if="isCurrentState(item)"
                 icu-display-by="item.display"
                 people="people"
                 projects="projects"
                 discussions="discussions">
            </div>
            <div class="help-block"
                ng-if="isCurrentState(item) && ((item.name === 'projects' && !projects.length) || (item.name === 'discussions' && !discussions.length))">
                No {{ item.name }} - please create your first
            </div>
        </li>
    </ul>
</nav>
